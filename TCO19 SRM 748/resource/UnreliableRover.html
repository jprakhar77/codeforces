<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
We have secretly deployed our autonomous own Mars rover.
It landed in the middle of a large flat area.
From the point of view of the rover, the surface of Mars is an infinite plane divided into squares with side length 1 meter.
The sides of the grid are aligned with the cardinal direction (North-South and East-West).
</p>
<p>
The rover moves in steps.
In each step it moves into the next square in one of the four directions.
The rover decides how to move based on some complex measurements and calculations it makes, so it's movement is completely unpredictable for us on Earth.
</p>
<p>
The rover reports its movements back to our homebase.
The reports are sent in compressed form: first a direction it chose, then the number of steps it took in that direction.
However, the error-correcting codes we built into the rover turned out to be insufficient, so sometimes we get garbage and a part of the information transmitted by the rover gets lost.
</p>
<p>
We know the exact starting coordinates of the rover.
From that point, the rover has made a sequence of movements and it reported them in the above form, in chronological order.
You are given the information we could reconstruct from what we received.
Namely:
</p>
<ul>
<li>The String <b>direction</b>. For each i, <b>direction</b>[i] is either one of "NEWS" if we know the rover's direction of movement for its report number i, or '?' if we don't know it.</li>
<li>The int[]s <b>minSteps</b> and <b>maxSteps</b>. These are giving you the information that the number of steps in report number i could have been any integer between <b>minSteps</b>[i] and <b>maxSteps</b>[i], inclusive. Additionally, whenever <b>direction</b>[i] is '?', <b>minSteps</b>[i] is 0. (In that case, the number of steps could be arbitrarily small, and it is even possible that there was no movement at all.)</li>
</ul>
<p>
Compute and return the area (in square meters) of the region where our rover can currently be located.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>UnreliableRover</td></tr><tr><td>Method:</td><td>getArea</td></tr><tr><td>Parameters:</td><td>String, int[], int[]</td></tr><tr><td>Returns:</td><td>long</td></tr><tr><td>Method signature:</td><td>long getArea(String direction, int[] minSteps, int[] maxSteps)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>direction</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character in <b>direction</b> will be one of "NEWS?".</td></tr><tr><td align="center" valign="top">-</td><td><b>direction</b> will contain at most 20 copies of the '?' character.</td></tr><tr><td align="center" valign="top">-</td><td><b>minSteps</b> and <b>maxSteps</b> will each have the same number of elements as the number of characters in <b>direction</b>.</td></tr><tr><td align="center" valign="top">-</td><td>For each valid i, 0 &lt;= <b>minSteps</b>[i] &lt;= <b>maxSteps</b>[i] &lt;= 10^7.</td></tr><tr><td align="center" valign="top">-</td><td>For each valid i, if <b>direction</b>[i] = '?' then <b>minSteps</b>[i] will be 0.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;N&quot;</pre></td></tr><tr><td><pre>{3}</pre></td></tr><tr><td><pre>{5}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">The rover started at (0,0) and after 3-5 steps northwards it ended at (0,3), (0,4), or (0,5).</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;NE&quot;</pre></td></tr><tr><td><pre>{3,3}</pre></td></tr><tr><td><pre>{5,5}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 9</pre></td></tr><tr><td><table><tr><td colspan="2">The rover ended at one of the cells (x,y) witn 3 &lt;= x,y &lt;= 5.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;?&quot;</pre></td></tr><tr><td><pre>{0}</pre></td></tr><tr><td><pre>{2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 9</pre></td></tr><tr><td><table><tr><td colspan="2">The rover can end at any of the squares (-2,0), (-1,0), (0,-2), (0,-1), (0,0), (0,1), (0,2), (1,0), or (2,0).</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;??N?&quot;</pre></td></tr><tr><td><pre>{0, 0, 0, 0}</pre></td></tr><tr><td><pre>{0, 0, 0, 0}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">The rover is still where it started.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;??E?&quot;</pre></td></tr><tr><td><pre>{0, 0, 3, 0}</pre></td></tr><tr><td><pre>{2, 3, 4, 2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 120</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>