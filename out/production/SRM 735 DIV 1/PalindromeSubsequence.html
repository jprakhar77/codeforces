<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
A <i>palindrome</i> is a string that is identical to its reverse. For example, "a", "abba", "aaaaa", and "abbabba" are all palindromes.
</p>

<p>
A <i>subsequence</i> of a string s is any string of the form s[i<sub>1</sub>]s[i<sub>2</sub>]...s[i<sub>k</sub>] such that the sequence of indices is strictly increasing.
(Formally, 0 &lt;= i<sub>1</sub> &lt; i<sub>2</sub> ... &lt; i<sub>k</sub> &lt;= |s|-1.)
</p>

<p>
For example, the strings "", "b", "ace", and "abcde" are all subsequences of the string "abcde", but the strings "bb" and "cba" are not subsequences of "abcde".
</p>

<p>
A <i>partition</i> of a string s is a set of subsequences that is constructed in such a way that each index into s is used for exactly one of the subsequences.
</p>

<p>
For example, let s = "aaabb". Then:
</p>

<ul>
<li>{"aaabb"} is a valid partition of s.</li>
<li>{"ab", "aab"} is a valid partition of s.</li>
<li>{"a", "b", "a", "b", "a"} is a valid partition of s.</li>
<li>{"ab", "abb"} is not a valid partition of s because you would have to use some 'b' multiple times.</li>
<li>{"ba", "aab"} is not a valid partition of s because "ba" is not a subsequence of s.</li>
<li>{"a", "a", "b", "b"} is not a valid partition of s because some letter of s remained unused.</li>
</ul>

<p>
The <i>size</i> of a partition is the number of strings it contains. For example, the size of {"aaabb"} is 1, the size of {"ab", "aab"} is 2, and the size of {"a", "ab", "ab"} is 3.
</p>

<p>
You are given a String <b>s</b>.
Each character in <b>s</b> is either 'a' or 'b'.
Find a partition of <b>s</b> such that:
</p>

<ul>
<li>Each string in the partition is a palindrome.</li>
<li>The size of the partition is as small as possible.</li>
</ul>

<p>
Suppose that you found a solution that uses k subsequences.
Number those subsequences from 1 to k in any order.
Return a int[] with |<b>s</b>| elements.
For each valid i, element i of your return value should be the number of the subsequence that contains the character at index i in the string <b>s</b>.
(See the examples for a clarification.)
</p>

<p>
If there are multiple optimal solutions, you may return any of them.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>PalindromeSubsequence</td></tr><tr><td>Method:</td><td>optimalPartition</td></tr><tr><td>Parameters:</td><td>String</td></tr><tr><td>Returns:</td><td>int[]</td></tr><tr><td>Method signature:</td><td>int[] optimalPartition(String s)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>s</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Every character of <b>s</b> will be either 'a' or 'b'.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;bababba&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: {1, 2, 2, 1, 2, 1, 2 }</pre></td></tr><tr><td><table><tr><td colspan="2"><p>
Here, it is obvious that there is no valid partition of size 1.
There are multiple valid partitions of size 2.
The sample output describes one of them, as follows:
</p>

<pre>
      string s = b a b a b b a
  return value = 1 2 2 1 2 1 2
------------------------------
 subsequence 1 = b     a   b
 subsequence 2 =   a b   b   a
</pre>

<p>
In other words, we partitioned the string "bababba" into {"bab", "abba"}.
Both "bab" and "abba" are palindromes, so this is a valid solution.
</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;abba&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: {1, 1, 1, 1 }</pre></td></tr><tr><td><table><tr><td colspan="2">Here the input is already palindrome, thus the optimum is 1.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;b&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: {1 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;babb&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: {1, 1, 1, 2 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>