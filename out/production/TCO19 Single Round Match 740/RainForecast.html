<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
Ilko is a meteorologist whose goal is to predict the weather for the report given in the evening news on TV.
Ilko has a complex numerical model that tries to predict a single boolean: whether it will rain tomorrow.
The success rate of the model's predictions is <b>ilkoProb</b> percent.
Every day at 4:47 pm, Ilko runs the model, reads its output, thinks about it, and finally he sends a one-word instruction to the TV station: he either tells them to broadcast the word "sunny" or the word "rainy".
</p>
<p>
However, the TV station does not simply broadcast the word Ilko sent.
There is a whole chain of people who get involved:
Ilko reports the forecast to his contact person, that person tells their secretary to pass it on, the secretary writes it down and uses internal mail to send it to a different floor, and so on.
The problem is that each person in the chain will, with some probability, mix up the message and deliver the opposite forecast from the one they received.
</p>
<p>
You are given the int[] <b>deliverProbs</b>.
Each element of <b>deliverProbs</b> corresponds to one person in the chain, in the order in which the message passes through them.
Person i will correctly deliver the forecast they receive with probability <b>deliverProbs</b>[i] percent.
</p>
<p>
Ilko knows all the information mentioned above, including all the probabilities.
His reputation depends on the accuracy of the forecast that actually gets aired by the TV station.
Thus, he will do all he can to maximize the accuracy of that forecast.
</p>
<p>
Compute and return the probability that the forecast aired by the TV station tonight will match the weather tomorrow.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>RainForecast</td></tr><tr><td>Method:</td><td>predictRain</td></tr><tr><td>Parameters:</td><td>int, int[]</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double predictRain(int ilkoProb, int[] deliverProbs)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Formally, assume that all random events mentioned in the statement are mutually independent. In particular, the probability that Ilko's model correctly predicts whether it will rain tomorrow is <b>ilkoProb</b>/100.</td></tr><tr><td align="center" valign="top">-</td><td>Your answer will be accepted if it has a relative or an absolute error up to 1e-9.</td></tr><tr><td align="center" valign="top">-</td><td>Remember that Ilko has perfect knowledge of all things mentioned in the problem statement, and that he is actively trying to maximize the probability that the weather will match the forecast broadcast by the station.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>ilkoProb</b> will be between 0 and 100, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>deliverProbs</b> will have between 0 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>deliverProbs</b> will be between 0 and 100, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>93</pre></td></tr><tr><td><pre>{}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.93</pre></td></tr><tr><td><table><tr><td colspan="2">Ilko's model correctly predicts rain with probability 93%.
There are no people involved in the TV station.
Thus, what happens is that:
<ol>
<li>Ilko looks at the prediction given by his model.</li>
<li>Ilko sends that prediction to the TV station.</li>
<li>The prediction goes straight into the broadcast.</li>
</ol>
Obviously, the forecast aired on the news will match reality with probability 93%.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>93</pre></td></tr><tr><td><pre>{50}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.5</pre></td></tr><tr><td><table><tr><td colspan="2">Ilko uses the same model, but now he reports to a person who always loses it and then just flips a coin to determine what forecast the station will broadcast that night.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>100</pre></td></tr><tr><td><pre>{90,90}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.82</pre></td></tr><tr><td><table><tr><td colspan="2"><p>
In this test case, Ilko's model is completely accurate. Sadly, the forecast goes through two people before it gets aired, and each of them will make a mistake with probability 10%. That's still good enough to mostly preserve the forecast Ilko reports to the station, but they do introduce some mistakes here and there.
</p>
<p>
Note that the actual probability that the station airs the correct forecast is 82%, not 81%.
This is because the following is also a possible chain of events:
</p>
<ol>
<li>Ilko reports the correct forecast to the station.</li>
<li>The first person makes a mistake and reports the opposite forecast to the second person.</li>
<li>The second person also makes a mistake and broadcasts the opposite forecast from the one they received - but that is the forecast Ilko originally sent!</li>
</ol></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>89</pre></td></tr><tr><td><pre>{13, 92, 7}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.7084846399999999</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>50</pre></td></tr><tr><td><pre>{3, 17, 92, 34, 2, 14}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.5</pre></td></tr><tr><td><table><tr><td colspan="2">This time, the accuracy of Ilko's model is as good as a coin flip. The people at the TV station don't really matter, the final forecast will still be correct with probability exactly 50 percent.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>